$.fn.appendInfiniteLoadData=function(a){var b=$(this);b.find(".infinite-load-tip").remove();b.append(a).append('<div class="infinite-load-tip fl"><div class="infinite-load-content clear"><i class="fl"></i><span class="fl">正在加载更多的数据~</span></div></div>')};$.fn.setInfiniteLoadTip=function(a,c){var b=$(this);b.find(".infinite-load-tip").remove();if(!c){c=""}if(a==1){b.append('<div class="infinite-load-tip '+c+'"><div class="infinite-load-content clear"><i class="fl"></i><span class="fl">正在加载更多的数据~</span></div></div>')}else{if(a==2){b.append('<div class="infinite-load-tip '+c+'">已经全部加载完毕~</div>')}else{if(a==-1){b.append('<div class="infinite-load-tip '+c+'">数据加载失败~</div>')}}}};$.fn.setInfiniteFlowLoadTip=function(b){var d=$(this);d.find(".infinite-flow-load-tip").remove();if(b==1){d.append('<div class="infinite-flow-load-tip"><div class="infinite-load-content clear"><i class="fl"></i><span class="fl">正在加载更多的数据~</span></div></div>')}else{if(b==2){d.append('<div class="infinite-flow-load-tip">已经全部加载完毕~</div>')}else{if(b==-1){d.append('<div class="infinite-flow-load-tip">数据加载失败~</div>')}}}var a=parseInt(d.attr("data-left"));var c=parseInt(d.attr("data-right"));d.find(".infinite-flow-load-tip").css("margin-top",a<c?c:a)};$.fn.setInfiniteSwiperFlowLoadTip=function(b){var d=$(this);d.find(".infinite-flow-load-tip").remove();if(b==1){d.append('<div class="infinite-flow-load-tip"><div class="infinite-load-content clear"><i class="fl"></i><span class="fl">正在加载更多的数据~</span></div></div>')}else{if(b==2){d.append('<div class="infinite-flow-load-tip">已经全部加载完毕~</div>')}else{if(b==-1){d.append('<div class="infinite-flow-load-tip">数据加载失败~</div>')}}}var a=parseInt(d.attr("data-left"));var c=parseInt(d.attr("data-right"));d.find(".infinite-flow-load-tip").css("margin-top",a<c?c:a)};function prefixInteger(b,a){return(Array(a).join(0)+b).slice(-a)}$.fn.countdown=function(d,a){var e=$(this);var b=Math.floor(new Date().getTime()/1000);var c=parseInt(e.attr("data-countdown"));if(c<=0){e.attr("data-status","over");if(a&&$.isFunction(a)){a(e)}return}startTimer("fn_countdown",function(i){var f=Math.floor(new Date().getTime()/1000);var h=f-b;var g=c-h;if(d&&$.isFunction(d)){d(e,g)}if(g<=0){stopTimer("fn_countdown");e.attr("data-status","over");if(a&&$.isFunction(a)){a(e)}}},1000)};$.turntable=function(b,a){if(a==undefined){a={}}if(a.result==undefined){a.result=0}if(a.total==undefined){a.total=8}if(a.number==undefined){a.number=9}if(a.half_number==undefined){a.half_number=parseInt(a.number/2)}if(a.speed==undefined){a.speed=200}if(a.number<0){return}startTimer("fn_turntable_"+b,function(c){if(a.eachFunction&&$.isFunction(a.eachFunction)){a.eachFunction(c)}if(a.number<=0&&a.result==c){stopTimer("fn_turntable_"+b);if(a.stopFunction&&$.isFunction(a.stopFunction)){a.stopFunction()}}if(c<=0){setTimeout(function(){var d=a.speed-a.speed/5;if(a.number<=a.half_number+1){d=a.speed+a.speed/3}$.turntable(b,{result:a.result,total:a.total,number:a.number-1,half_number:a.half_number,speed:d,eachFunction:a.eachFunction,stopFunction:a.stopFunction})},a.speed)}},a.speed,a.total)};$.fn.carousel=function(){var f=$(this);if(f.length==0){return false}var e=parseInt(f.attr("data-view-number"));if(f.find(".carousel-container").length==0){var b=$('<div class="carousel-container"></div>');b.append(f.html());f.find("p").each(function(l,m){m=$(m);if(l<e){b.append(m)}else{return false}});f.html(b)}var b=f.find(".carousel-container");var j=b.find("p");var i=parseInt(f.attr("data-current"));if(!i){i=0}var h=j.length;if(h<=e){return false}var k=$.custom.pageId+"_"+f.attr("data-id");var g=h-e;var a=parseInt(f.offset().height/e);var c=f.attr("data-interval")||3000;var d=f.attr("data-speed")||50;setTimeout(function(){startTimer(k,function(n){n=-1-n;var m=n%a;if(m==0){++i;if(i==g){i=0}f.attr("data-current",i);if("true"==f.attr("data-each-pause")){stopTimer(k);setTimeout(function(){f.carousel()},c)}}var l=-(i*a)-n%a;b.css({"margin-top":l})},d)},c)};function setPageData(b,a){a=a?a:$.custom.pageId;$.custom.pageData[a]=b}function getPageData(b,a){var c=$.custom.pageData[b]?$.custom.pageData[b]:"";if(!a){delete $.custom.pageData[b]}return c}function stringToHex(c){var d="0x";var b=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");for(var a=0;a<c.length;a++){d+=b[c.charCodeAt(a)>>4]+b[c.charCodeAt(a)&15]}return d}function hexToString(b){var c="";for(var a=(b.substr(0,2)=="0x")?2:0;a<b.length;a+=2){c+=String.fromCharCode(parseInt(b.substr(a,2),16))}return c}function utf16ToEntities(b){var a=/[\ud800-\udbff][\udc00-\udfff]/g;b=b.replace(a,function(g){var e,d,f;if(g.length===2){e=g.charCodeAt(0);d=g.charCodeAt(1);f=(e-55296)*1024+65536+d-56320;return"&#"+f+";"}else{return g}});return b}function checkMobile(a){var b=/^13[\d]{9}$|^14[5,7]{1}\d{8}$|^15[^4]{1}\d{8}$|^17[0,1,6,7,8]{1}\d{8}$|^18[\d]{9}$/;return b.test(a)}function checkEmail(a){var b=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return b.test(a)}function checkIdCard(a){var b=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return b.test(a)}function checkBankCard(a){var b=/^([1-9]{1})(\d{14}|\d{18}|\d{15}|\d{16}|\d{19}|\d{17})$/;return b.test(a)}function aesEncrypt(d,a){if(!a){a=CryptoJS.enc.Utf8.parse(MY_VAR.AES_KEY)}var c=CryptoJS.enc.Utf8.parse(d);var b=CryptoJS.AES.encrypt(c,a,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return b.toString()}function aesDecrypt(c,b){if(!b){b=CryptoJS.enc.Utf8.parse(MY_VAR.AES_KEY)}var a=CryptoJS.AES.decrypt(c,b,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(a).toString()}function fixedTop(){var a=$.custom.pageObj;a.find(".fixed-top").off("click").on("click",function(){var b=$.getFixedTopContent();b.scrollTop(0,800);$.toggleFixedTop()})}function pieInit(){var a=$.custom.pageObj;var b=$.custom.pageId;if("address_provinces"==b){$.custom.address.complete=false;a.find(".provinces-item").off("click").on("click",function(){var c=$(this);$.custom.address.province_id=c.attr("data-id");$.custom.address.province_name=c.html();$.custom.address.province_code=c.attr("data-code");if(1==$.custom.address.layered){$.custom.address.complete=true;$.router.back()}else{$.router.loadPage(c.attr("data-href"))}})}else{if("address_citys"==b){a.find(".citys-item").off("click").on("click",function(){var c=$(this);$.custom.address.city_id=c.attr("data-id");$.custom.address.city_name=c.html();$.custom.address.city_code=c.attr("data-code");if(2==$.custom.address.layered){$.custom.address.complete=true;$.custom.correctPages.push("address_provinces");$.router.back(-2)}else{$.router.loadPage(c.attr("data-href"))}})}else{if("address_districts"==b){a.find(".districts-item").off("click").on("click",function(){var c=$(this);$.custom.address.district_id=c.attr("data-id");$.custom.address.district_name=c.html();$.custom.address.district_code=c.attr("data-code");$.custom.address.complete=true;$.custom.correctPages.push("address_provinces","address_citys");$.router.back(-3)})}}}fixedTop();$.initFixedTabTop();$.refreshScroller();closeSuperShade()}function createUrl(c,e,d){var a=MY_SERVER.DOMAIN_PATH+c+"/"+e;var b="";if(d){if($.isPlainObject(d)){$.each(d,function(f,g){b+="/"+f+"/"+encodeURI(encodeURI(g))})}else{b=d}}return a+b+".html"}function loadPage(b,e,d,c){var a=createUrl(b,e,d);if(hasOpenModal()){closeModal();setTimeout(function(){$.router.loadPage(a,c)},500)}else{$.router.loadPage(a,c)}}function setCookie(a,c){var b=7;var d=new Date();d.setTime(d.getTime()+b*24*60*60*1000);document.cookie=a+"="+escape(c)+";expires="+d.toGMTString()+";path=/"}function getCookie(b){var a,c=new RegExp("(^| )"+b+"=([^;]*)(;|$)");if(a=document.cookie.match(c)){return unescape(a[2])}else{return null}}function setMqstCookie(a,b){setCookie("mqst_"+a,b)}function getMqstCookie(a){return getCookie("mqst_"+a)}function pushHistoryUrl(a,b,c){history.pushState(b?b:{},c?c:"",a)}function startTimer(e,c,a,d){stopTimer(e);if(d==undefined){d=-1}b(d-1);function b(f){$.custom.timerTime[e]=f;$.custom.timerList[e]=setTimeout(function(){b(f-1)},a);c(f);if(f==0){stopTimer(e)}}}function stopTimer(a){if(a){if("-"==a){$.custom.timerList=[];$.each($.custom.timerList,function(b,c){clearTimeout($.custom.timerList[b]);$.custom.timerTime[b]=0})}else{clearTimeout($.custom.timerList[a]);$.custom.timerTime[a]=0}}}function splitCountdown(d){var b=Math.floor(d/86400);d=d%86400;var a=Math.floor(d/3600);d=d%3600;var e=Math.floor(d/60);d=d%60;var c=d;return{day:b,hour:prefixInteger(a,2),minute:prefixInteger(e,2),second:prefixInteger(c,2)}}function goHome(){$.router.loadPage(getMqstCookie("sq_index_url"),DIRECTION.leftToRight);$.router._deleteCache("-")}function goBack(){var page=$.custom.pageObj;if(hasOpenPicker()){closePicker();return}if(hasOpenPhotoBrowser()){closePhotoBrowser();return}if(hasOpenSuperModal()){$.closeSuperModal();return}if(hasOpenModal(page)){try{var func=eval("pcm_"+page.attr("id"));if(typeof func==="function"){func.call(this,page)}}catch(ev){closeModal()}return}if(page.attr("data-top-floor")=="true"){return}try{var func=eval("pbb_"+$.custom.pageId);if(typeof func==="function"){var result=func.call(this,page);if(!result){return false}}}catch(ev){}$.router.back()}function setUserId(a){setMqstCookie("sq_user_id",a)}function getUserId(){return parseInt(getMqstCookie("sq_user_id"))}function isLogin(a){a=a||{};var b=getUserId();if(b>0){return b}else{if(a.login_flag){loadPage("Login","index")}return false}}function getBaiduMapInfo(d,a,b){var c=MY_VAR.BAIDU_MAP_AK;if(!c){return false}$.ajax({type:"GET",url:"http://api.map.baidu.com/geocoder/v2/",data:{output:"json",ak:c,location:d+","+a},dataType:"jsonp",success:function(e){if(e.status==0){if(e.result.addressComponent.country=="中国"){b(e.result)}}}})}function ajaxData(d,f,c,a,b,e){if(!d){console.log("请求链接不能为空！");return}f.ajax_i=1;$.ajax({type:"POST",url:d,data:f,beforeSend:function(h,g){if(c){c(h,g)}},success:function(h,g,i){if(!checkLogin(h)){return false}if(a){a(h,g,i)}setTimeout(function(){$.lazyLoad()},100)},error:function(i,g,h){if(b){b(i,g,h)}},complete:function(h,g){if(e){e(h,g)}}})}function loadAjaxData(d,f,c,a,b,e){if(!d){console.log("请求链接不能为空！");return}if($.custom.ajaxStatus){return false}$.custom.ajaxStatus=true;ajaxData(d,f,c,a,function(i,g,h){setTimeout(function(){loadAjaxData(d,f,c,a,b,e)},800)},function(h,g){if(e){e(h,g)}$.custom.ajaxStatus=false})}function piInitData(c,g,b,a,f,d){if($.inArray(g,$.custom.correctPages)>-1||b.attr("data-load-status")!="over"){ajaxData(a,f,function(h,e){},function(h,e,i){h=checkContentData(h);if(!h){return}d(h,e,i);mqstPageCall("pie_",c,g,b);pieInit();b.attr("data-load-status","over");$.custom.correctPages.remove(g)},function(i,e,h){$.alert("网络连接失败，请检查网络后重试~","提示!",function(){})})}}function checkLogin(a){if(a.s==-99999){if(hasOpenModal()||hasOpenSuperModal()){closeModal();setTimeout(function(){loadPage("Login","index")},500)}else{loadPage("Login","index")}return false}return true}function checkContentData(a){if(a.s<0){if(!checkLogin(a)){return false}$.alert(a.m);return false}else{return a.c}}function openToast(d,e){var c=$.custom.pageObj;var a=c.find(".super-toast");if(a.length>0){closeToast(a,function(){b()})}else{b()}function b(){var f=$('<div class="super-toast">'+(d?d:"请稍等...")+"</div>");c.append(f);f.velocity({opacity:1},{easing:"linear",duration:300});setTimeout(function(){closeToast(f)},e||2000)}}function closeToast(a,b){if(!a){a=$.custom.pageObj.find(".super-toast")}if(a.length>0){a.velocity({opacity:0},{easing:"linear",duration:300,complete:function(){$(this).remove();if(b&&$.isFunction(b)){b()}}})}}function openSuperTip(a){$(".super-tip").html(a?a:"正在加载数据，请稍等...").show().velocity({bottom:0},{easing:"linear",duration:300})}function closeSuperTip(){$(".super-tip").velocity({bottom:"-1rem"},{easing:"linear",duration:300,complete:function(){$(this).hide()}})}function hasSuperShade(){if($(".super-shade").attr("data-status")=="show"){return true}else{return false}}function openSuperShade(){$(".super-shade").attr("data-status","show").show().on("touchmove",function(a){a.preventDefault()},false)}function closeSuperShade(){$(".super-shade").attr("data-status","hide").hide().off("touchmove")}function hasOpenModal(b){if(!b){b=$.custom.pageObj}var a=b.find(".modal-overlay-visible").attr("data-item");if(a){return a}return false}function hasOpenSuperModal(){var a=$(".super-modal-overlay.modal-overlay-visible").attr("data-item");if(a){return a}return false}function openModal(a){var b=$.custom.pageObj;$.openModal(b.find(".modal-overlay").attr("data-item",a),function(){b.find("."+a).show()})}function closeModal(){var b=$.custom.pageObj;var a=b.find(".modal-overlay");b.find("."+a.attr("data-item")).hide();$.closeModal(a)}function hasOpenPicker(){var a=$(".picker-modal.modal-in");if(a.length>0){return true}else{return false}}function closePicker(a){if(!a){a=$(".picker-modal.modal-in")}if(a.length>0){if($.custom.calendar_opened_flag){$.custom.calendar_opened_flag=false;$.closeSuperModal();$.closeModal(a)}}}function hasOpenPhotoBrowser(){if($.custom.photoBrowser){return true}else{return false}}function openPhotoBrowser(b,a){if(!a){a=0}$.custom.photoBrowser=$.photoBrowser(b);$.custom.photoBrowser.open(a)}function closePhotoBrowser(){$.custom.photoBrowser.close();$.custom.photoBrowser=null}function getSwiper(b,c){if(!c){c=$.custom.pageObj}var a=c.find("."+b);if(a.length===0){return null}else{return a[0].swiper}}function preloadFiles(a){$.each(a,function(b,c){new Image().src=c})}function openAddress(a,b){a=a||{};$.custom.address.layered=a.layered||3;if($.isFunction(b)){$.custom.addressCallback=b}loadPage("Address","provinces")};